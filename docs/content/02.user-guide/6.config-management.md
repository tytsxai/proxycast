---
title: 配置管理
description: 导出和导入配置
navigation:
  icon: i-heroicons-document-duplicate
---

# 配置管理

配置管理功能允许你导出、导入和分享 ProxyCast 配置。

## YAML 导出

### 导出内容

导出的 YAML 文件包含：

- Provider 配置
- 路由规则
- 容错设置
- API Server 配置
- 通用设置

### 导出步骤

1. 进入 **设置** > **配置管理**
2. 点击 **导出配置**
3. 选择保存位置
4. 配置保存为 `.yaml` 文件

### 导出格式

```yaml
version: "1.0"
providers:
  - name: kiro-claude
    type: kiro
    enabled: true
    priority: 1
  - name: gemini-cli
    type: gemini
    enabled: true
    priority: 2

routes:
  - pattern: "gpt-4*"
    provider: kiro-claude
    model: claude-sonnet-4-20250514

resilience:
  retry:
    maxAttempts: 3
    initialDelay: 1s
  timeout:
    request: 120s

server:
  host: "127.0.0.1"
  port: 9090
```

### 敏感信息处理

::alert{type="warning"}
导出的配置**不包含**凭证信息（Token、API Key）。导入后需要重新配置凭证。
::

## 导入配置

### 导入步骤

1. 进入 **设置** > **配置管理**
2. 点击 **导入配置**
3. 选择 `.yaml` 配置文件
4. 预览导入内容
5. 确认导入

### 冲突解决

当导入的配置与现有配置冲突时：

| 选项 | 说明 |
|------|------|
| 覆盖 | 用导入的配置替换现有配置 |
| 跳过 | 保留现有配置，跳过冲突项 |
| 合并 | 合并两个配置（仅适用于列表类型） |

### 验证导入

导入前会验证：

- YAML 语法正确性
- 配置版本兼容性
- 必填字段完整性

## .env 格式导出

### 用途

导出为 `.env` 格式，方便在其他工具中使用：

- 脚本调用
- Docker 环境
- CI/CD 配置

### 导出内容

```bash
# ProxyCast API Configuration
PROXYCAST_API_BASE=http://127.0.0.1:9090/v1
PROXYCAST_API_KEY=your-api-key

# OpenAI Compatible
OPENAI_API_BASE=http://127.0.0.1:9090/v1
OPENAI_API_KEY=your-api-key

# Claude Compatible
ANTHROPIC_API_BASE=http://127.0.0.1:9090
ANTHROPIC_API_KEY=your-api-key
```

### 导出步骤

1. 进入 **设置** > **配置管理**
2. 点击 **导出 .env**
3. 选择保存位置

## 配置备份

### 自动备份

ProxyCast 会自动备份配置：

- 每次修改后自动保存
- 保留最近 10 个版本
- 备份位置：`~/.proxycast/backups/`

### 恢复备份

1. 进入 **设置** > **配置管理**
2. 点击 **备份历史**
3. 选择要恢复的版本
4. 点击 **恢复**

## 配置同步

### 跨设备同步

通过导出/导入实现跨设备配置同步：

1. 在设备 A 导出配置
2. 将配置文件传输到设备 B
3. 在设备 B 导入配置
4. 重新配置凭证
