---
title: 凭证错误
description: OAuth Token 问题诊断
navigation:
  icon: i-heroicons-key
---

# 凭证错误

本页帮助你诊断和解决凭证相关的问题。

## 诊断步骤

### 1. 检查凭证文件

确认凭证文件存在：

```bash
# Kiro
ls -la ~/.kiro/credentials.json

# Gemini CLI
ls -la ~/.config/gemini-cli/oauth_creds.json

# Qwen
ls -la ~/.config/qwen/credentials.json
```

### 2. 验证文件格式

检查 JSON 格式是否正确：

```bash
# 验证 JSON 格式
cat ~/.kiro/credentials.json | python -m json.tool
```

### 3. 检查 Token 有效性

在 ProxyCast 中：

1. 进入凭证池
2. 点击凭证的"测试"按钮
3. 查看测试结果

## 常见错误

### Token 已过期

**症状**: 凭证状态显示"已过期"

**原因**:
- Access Token 超过有效期
- Refresh Token 也已过期

**解决方案**:

1. 打开对应的 AI 客户端
2. 重新登录
3. 在 ProxyCast 中刷新凭证

### Token 无效

**症状**: 测试凭证返回 401 错误

**原因**:
- Token 被撤销
- 账户状态异常

**解决方案**:

1. 检查 AI 客户端账户状态
2. 重新登录获取新 Token
3. 删除旧凭证，重新添加

### 刷新失败

**症状**: 自动刷新 Token 失败

**原因**:
- Refresh Token 过期
- 网络问题
- 服务端问题

**解决方案**:

1. 检查网络连接
2. 手动刷新凭证
3. 如仍失败，重新登录客户端

## Provider 特定问题

### Kiro Claude

**凭证位置**: `~/.kiro/credentials.json`

**常见问题**:

1. **未安装 Kiro**: 安装 Kiro IDE
2. **未登录**: 在 Kiro 中完成登录
3. **订阅过期**: 检查 Kiro 订阅状态

### Gemini CLI

**凭证位置**: `~/.config/gemini-cli/oauth_creds.json`

**常见问题**:

1. **未安装 CLI**: 安装 Gemini CLI
2. **未认证**: 运行 `gemini auth login`
3. **项目配额用尽**: 检查 Google Cloud 配额

### Qwen

**凭证位置**: `~/.config/qwen/credentials.json`

**常见问题**:

1. **账户未开通**: 开通阿里云通义千问服务
2. **配额用尽**: 检查阿里云账户余额
3. **区域限制**: 确认服务区域设置

## 手动修复

### 重置凭证

1. 删除凭证文件
2. 重新登录 AI 客户端
3. 在 ProxyCast 中刷新凭证

### 手动添加凭证

如果自动检测失败：

1. 从 AI 客户端获取 Token
2. 在 ProxyCast 中手动添加
3. 测试凭证有效性

## 日志查看

查看详细错误信息：

1. 进入设置 > 高级
2. 设置日志级别为 Debug
3. 重现问题
4. 查看日志文件
