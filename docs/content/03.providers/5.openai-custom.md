---
title: OpenAI Custom
description: 配置自定义 OpenAI 兼容服务
navigation:
  icon: i-heroicons-cube
---

# OpenAI Custom

OpenAI Custom 允许你配置任何 OpenAI 兼容的 API 服务。

## 适用场景

- 使用 OpenAI 官方 API
- 使用 Azure OpenAI
- 使用其他 OpenAI 兼容服务（如 Groq、Together AI）
- 使用本地部署的模型（如 Ollama、vLLM）

## API Key 配置

### 获取 API Key

**OpenAI 官方:**
1. 访问 [OpenAI Platform](https://platform.openai.com)
2. 进入 API Keys 页面
3. 创建新的 API Key

**Azure OpenAI:**
1. 访问 Azure Portal
2. 创建 Azure OpenAI 资源
3. 获取 API Key 和端点

### 在 ProxyCast 中配置

1. 进入 **凭证池** 页面
2. 点击 **添加凭证**
3. 选择 **OpenAI Custom**
4. 填写配置信息：

| 字段 | 说明 |
|------|------|
| 名称 | 凭证标识名称 |
| API Key | OpenAI API Key |
| Base URL | API 端点（可选） |

## Base URL 设置

### 默认端点

不填写 Base URL 时，使用 OpenAI 官方端点：

```
https://api.openai.com/v1
```

### 自定义端点

| 服务 | Base URL |
|------|----------|
| Azure OpenAI | `https://{resource}.openai.azure.com/openai/deployments/{deployment}` |
| Groq | `https://api.groq.com/openai/v1` |
| Together AI | `https://api.together.xyz/v1` |
| Ollama | `http://localhost:11434/v1` |

### 配置示例

```yaml
providers:
  - name: openai-official
    type: openai-custom
    api_key: "sk-..."
    # 使用默认 Base URL
    
  - name: azure-openai
    type: openai-custom
    api_key: "..."
    base_url: "https://myresource.openai.azure.com/openai/deployments/gpt-4"
    
  - name: ollama-local
    type: openai-custom
    api_key: "ollama"  # Ollama 不需要真实 key
    base_url: "http://localhost:11434/v1"
```

## 支持的模型

取决于你使用的服务，常见模型：

| 服务 | 模型 |
|------|------|
| OpenAI | gpt-4, gpt-4-turbo, gpt-3.5-turbo |
| Azure | 取决于部署 |
| Groq | llama-3.1-70b, mixtral-8x7b |
| Ollama | llama3, mistral, codellama |

## 高级配置

### 请求头

添加自定义请求头：

```yaml
openai-custom:
  headers:
    X-Custom-Header: "value"
```

### Azure 特殊配置

Azure OpenAI 需要额外配置：

```yaml
azure-openai:
  api_key: "..."
  base_url: "https://..."
  api_version: "2024-02-15-preview"
  headers:
    api-key: "..."  # Azure 使用 api-key 头
```

## 故障排除

### API Key 无效

1. 确认 API Key 正确
2. 检查 Key 是否过期
3. 确认账户有足够余额

### 连接失败

1. 检查 Base URL 是否正确
2. 确认网络可以访问端点
3. 检查是否需要代理

### 模型不存在

1. 确认模型名称正确
2. 检查账户是否有该模型的访问权限
3. Azure 用户确认部署名称
