---
title: Qwen (通义千问)
description: 配置阿里云通义千问凭证
navigation:
  icon: i-heroicons-language
---

# Qwen (通义千问)

Qwen 是阿里云提供的大语言模型服务。

## 凭证位置

### 默认路径

Qwen 凭证文件位于：

| 平台 | 路径 |
|------|------|
| macOS | `~/.config/qwen/credentials.json` |
| Windows | `%USERPROFILE%\.config\qwen\credentials.json` |
| Linux | `~/.config/qwen/credentials.json` |

### 凭证格式

```json
{
  "access_token": "...",
  "refresh_token": "...",
  "expires_at": "2024-01-01T00:00:00Z"
}
```

## 认证设置

### 获取凭证

1. 访问 [阿里云控制台](https://www.aliyun.com)
2. 开通通义千问服务
3. 获取 API 凭证

### 使用阿里云 CLI

```bash
# 安装阿里云 CLI
pip install aliyun-cli

# 配置凭证
aliyun configure
```

### 手动配置

在 ProxyCast 中手动添加：

1. 进入 **凭证池** 页面
2. 点击 **添加凭证**
3. 选择 **Qwen**
4. 输入凭证信息

## 自动刷新

ProxyCast 支持 Qwen Token 的自动刷新：

1. 检测 Token 即将过期
2. 使用 Refresh Token 获取新 Token
3. 更新凭证文件

## 支持的模型

| 模型 | 说明 |
|------|------|
| qwen-turbo | 通义千问 Turbo |
| qwen-plus | 通义千问 Plus |
| qwen-max | 通义千问 Max |
| qwen-long | 通义千问 Long（长文本） |

## 配置选项

### 区域设置

```yaml
qwen:
  region: "cn-hangzhou"
  endpoint: "https://dashscope.aliyuncs.com"
```

### 模型映射

将 OpenAI 模型名映射到 Qwen：

```yaml
routes:
  - pattern: "gpt-4*"
    provider: qwen
    model: qwen-max
  - pattern: "gpt-3.5*"
    provider: qwen
    model: qwen-turbo
```

## 使用限制

### 并发限制

| 模型 | 并发数 |
|------|--------|
| qwen-turbo | 10 |
| qwen-plus | 5 |
| qwen-max | 3 |

### Token 限制

| 模型 | 最大 Token |
|------|-----------|
| qwen-turbo | 8K |
| qwen-plus | 32K |
| qwen-max | 32K |
| qwen-long | 1M |

## 故障排除

### 凭证无效

1. 检查阿里云账户状态
2. 确认服务已开通
3. 重新获取凭证

### 请求失败

| 错误码 | 原因 | 解决方案 |
|--------|------|----------|
| InvalidApiKey | API Key 无效 | 检查凭证配置 |
| QuotaExhausted | 配额用尽 | 充值或等待重置 |
| RateLimitExceeded | 超出速率限制 | 降低请求频率 |

### 网络问题

如果在中国大陆以外使用，可能需要配置代理：

```yaml
qwen:
  proxy: "http://proxy.example.com:8080"
```
