---
title: Gemini CLI
description: 配置 Google Gemini CLI 凭证
navigation:
  icon: i-heroicons-sparkles
---

# Gemini CLI

Gemini CLI 是 Google 提供的命令行 AI 工具，使用 OAuth 认证。

## 凭证位置

### 默认路径

Gemini CLI 凭证文件位于：

| 平台 | 路径 |
|------|------|
| macOS | `~/.config/gemini-cli/oauth_creds.json` |
| Windows | `%USERPROFILE%\.config\gemini-cli\oauth_creds.json` |
| Linux | `~/.config/gemini-cli/oauth_creds.json` |

### 凭证格式

```json
{
  "client_id": "...",
  "client_secret": "...",
  "refresh_token": "...",
  "token_uri": "https://oauth2.googleapis.com/token"
}
```

## 项目设置

### Google Cloud 项目

Gemini CLI 需要关联 Google Cloud 项目：

1. 访问 [Google Cloud Console](https://console.cloud.google.com)
2. 创建或选择项目
3. 启用 Gemini API
4. 配置 OAuth 同意屏幕

### 配置项目 ID

在 ProxyCast 中配置项目：

```yaml
gemini:
  project_id: "your-project-id"
  location: "us-central1"
```

## 自动刷新机制

### Token 刷新

ProxyCast 自动处理 OAuth Token 刷新：

1. 使用 Refresh Token 获取 Access Token
2. Access Token 过期前自动刷新
3. 无需用户干预

### 刷新失败

如果刷新失败：

1. 检查网络连接
2. 确认 Google 账户状态
3. 重新运行 `gemini auth login`

## 配置步骤

### 安装 Gemini CLI

```bash
# 使用 npm 安装
npm install -g @anthropic-ai/gemini-cli

# 或使用 pip
pip install gemini-cli
```

### 登录认证

```bash
gemini auth login
```

按提示完成 OAuth 认证流程。

### 在 ProxyCast 中配置

1. 完成 Gemini CLI 登录
2. 启动 ProxyCast
3. 凭证自动出现在凭证池中

## 支持的模型

| 模型 | 说明 |
|------|------|
| gemini-2.0-flash | Gemini 2.0 Flash |
| gemini-1.5-pro | Gemini 1.5 Pro |
| gemini-1.5-flash | Gemini 1.5 Flash |

## 使用限制

### 免费额度

Google 提供一定的免费使用额度，超出后需要付费。

### 速率限制

| 限制类型 | 限制值 |
|----------|--------|
| 每分钟请求数 | 60 |
| 每日请求数 | 1500 |

## 故障排除

### 凭证未检测到

1. 确认已运行 `gemini auth login`
2. 检查凭证文件是否存在
3. 确认文件权限正确

### 认证失败

```bash
# 重新登录
gemini auth logout
gemini auth login
```

### 项目配置错误

确认 Google Cloud 项目：

1. 已启用 Gemini API
2. 有足够的配额
3. 账单设置正确
